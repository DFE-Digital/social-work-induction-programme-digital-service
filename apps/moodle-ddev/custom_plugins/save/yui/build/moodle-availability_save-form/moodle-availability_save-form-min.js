YUI.add("moodle-availability_save-form",function(a,i){YUI.add("moodle-availability_save-form",function(t){M.availability_save=M.availability_save||{},M.availability_save.form=t.Object(M.core_availability.plugin),M.availability_save.form.initInner=function(a){this.databases=a.databases||[],this.targetcmid=a.targetcmid||0},M.availability_save.form.getNode=function(a){var i,e;return a=a||{},i='<select class="save-cmid"><option value="">--</option>',(this.databases||[]).forEach(function(a){i+='<option value="'+a.cmid+'">'+t.Escape.html(a.name)+"</option>"}),i+="</select>",e='<div class="availability-save"><label>'+M.util.get_string("label_selectactivity","availability_save")+"</label> "+i+"</div>",e=t.Node.create('<span class="form-inline">'+e+"</span>"),a.cmid&&e.one(".save-cmid").set("value",a.cmid),e.one(".save-cmid").on("change",function(){M.core_availability.form.update()}),e},M.availability_save.form.fillValue=function(a,i){i=parseInt(i.one(".save-cmid").get("value")||0,10);!i||this.targetcmid&&i===this.targetcmid?a=null:(a.type="save",a.cmid=i)},M.availability_save.form.fillErrors=function(a,i){i=parseInt(i.one(".save-cmid").get("value")||0,10);i||a.push("availability_save:error_noactivity"),this.targetcmid&&i&&i===this.targetcmid&&a.push("availability_save:error_sameactivity")}},"@VERSION@",{requires:["base","node","event","escape","moodle-core_availability-form"]})},"@VERSION@",{requires:["base","node","event","escape","moodle-core_availability-form"]});